                      
"""
è¯¦ç»†åˆ†æè·¯å¾„3å’Œè·¯å¾„4çš„çº¦æŸå·®å¼‚
"""

import re

def extract_constraint_details():
    """æå–çº¦æŸçš„è¯¦ç»†ä¿¡æ¯"""
    
    print("ğŸ” è¯¦ç»†çº¦æŸåˆ†æ")
    print("=" * 60)
    
                
    path3_final_constraint = """
    (let ((?x27402 (bvashr mem_7fffffffffeff40_1_32 (_ bv31 32))))
     (let ((?x27399 (concat ?x27402 mem_7fffffffffeff40_1_32)))
      (let ((?x14649 (bvsdiv ?x27399 (_ bv2 64))))
       (let ((?x14677 ((_ extract 31 0) ?x14649)))
        (let ((?x14630 (bvmul mem_7fffffffffeff40_1_32 ?x14677)))
         (let ((?x15039 (bvashr ?x14630 (_ bv31 32))))
          (let ((?x15131 (concat ?x15039 ?x14630)))
           (let ((?x15029 (bvsdiv ?x15131 (_ bv2 64))))
            (let ((?x15032 ((_ extract 31 0) ?x15029)))
             (let ((?x15128 (bvadd mem_7fffffffffeff40_1_32 ?x15032)))
              (let ((?x15042 (bvmul ?x15128 (_ bv0 32))))
               (bvslt ?x15032 ?x15042))))))))))))
    """
    
                
    path4_final_constraint = """
    (let ((?x27402 (bvashr mem_7fffffffffeff40_1_32 (_ bv31 32))))
     (let ((?x27399 (concat ?x27402 mem_7fffffffffeff40_1_32)))
      (let ((?x14649 (bvsdiv ?x27399 (_ bv2 64))))
       (let ((?x14677 ((_ extract 31 0) ?x14649)))
        (let ((?x14630 (bvmul mem_7fffffffffeff40_1_32 ?x14677)))
         (let ((?x15039 (bvashr ?x14630 (_ bv31 32))))
          (let ((?x15131 (concat ?x15039 ?x14630)))
           (let ((?x15029 (bvsdiv ?x15131 (_ bv2 64))))
            (let ((?x15032 ((_ extract 31 0) ?x15029)))
             (let ((?x15128 (bvadd mem_7fffffffffeff40_1_32 ?x15032)))
              (let ((?x15042 (bvmul ?x15128 (_ bv0 32))))
               (bvsge ?x15032 ?x15042))))))))))))
    """
    
    print("ğŸ“Š è·¯å¾„3æœ€ç»ˆçº¦æŸ:")
    print("-" * 30)
    print("çº¦æŸ: bvslt ?x15032 ?x15042")
    print("å«ä¹‰: ?x15032 < ?x15042")
    print("å…¶ä¸­: ?x15042 = ?x15128 * 0 = 0")
    print("æ‰€ä»¥: ?x15032 < 0")
    
    print("\nï¿½ï¿½ è·¯å¾„4æœ€ç»ˆçº¦æŸ:")
    print("-" * 30)
    print("çº¦æŸ: bvsge ?x15032 ?x15042")
    print("å«ä¹‰: ?x15032 >= ?x15042")
    print("å…¶ä¸­: ?x15042 = ?x15128 * 0 = 0")
    print("æ‰€ä»¥: ?x15032 >= 0")
    
    print("\nï¿½ï¿½ å…³é”®å·®å¼‚:")
    print("-" * 30)
    print("è·¯å¾„3: ?x15032 < 0  (è´Ÿæ•°)")
    print("è·¯å¾„4: ?x15032 >= 0 (éè´Ÿæ•°)")
    print("å·®å¼‚: æ¯”è¾ƒæ“ä½œç¬¦ä¸åŒ (bvslt vs bvsge)")

def analyze_calculation_process():
    """åˆ†æè®¡ç®—è¿‡ç¨‹"""
    
    print("\nğŸ§® è®¡ç®—è¿‡ç¨‹åˆ†æ:")
    print("=" * 60)
    
    print("?x15032 çš„è®¡ç®—æ­¥éª¤:")
    print("1. ?x27402 = bvashr(x, 31)  # ç®—æœ¯å³ç§»31ä½ï¼Œå¾—åˆ°ç¬¦å·ä½")
    print("2. ?x27399 = concat(?x27402, x)  # è¿æ¥ç¬¦å·ä½å’Œxï¼Œå¾—åˆ°64ä½æ•°")
    print("3. ?x14649 = bvsdiv(?x27399, 2)  # 64ä½æœ‰ç¬¦å·é™¤æ³•")
    print("4. ?x14677 = extract(?x14649, 31, 0)  # æå–ä½32ä½")
    print("5. ?x14630 = bvmul(x, ?x14677)  # xä¹˜ä»¥ç»“æœ")
    print("6. ?x15039 = bvashr(?x14630, 31)  # å†æ¬¡ç®—æœ¯å³ç§»31ä½")
    print("7. ?x15131 = concat(?x15039, ?x14630)  # è¿æ¥å¾—åˆ°64ä½æ•°")
    print("8. ?x15029 = bvsdiv(?x15131, 2)  # å†æ¬¡64ä½é™¤æ³•")
    print("9. ?x15032 = extract(?x15029, 31, 0)  # æå–æœ€ç»ˆ32ä½ç»“æœ")
    
    print("\nè¿™ä¸ªè®¡ç®—è¿‡ç¨‹å®é™…ä¸Šæ˜¯åœ¨åšä»€ä¹ˆ:")
    print("- è¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„æ•´æ•°é™¤æ³•è¿ç®—")
    print("- æ¶‰åŠç¬¦å·ä½å¤„ç†å’Œèˆå…¥")
    print("- å¯èƒ½æ˜¯æŸç§æ•°å­¦å‡½æ•°çš„å®ç°")
    print("- ç»“æœçš„æ­£è´Ÿæ€§å†³å®šäº†ç¨‹åºçš„åˆ†æ”¯")

def analyze_floating_point_constraints():
    """åˆ†ææµ®ç‚¹æ•°çº¦æŸ"""
    
    print("\nğŸ”¢ æµ®ç‚¹æ•°çº¦æŸåˆ†æ:")
    print("=" * 60)
    
    print("ä¸¤ä¸ªè·¯å¾„çš„æµ®ç‚¹æ•°çº¦æŸå®Œå…¨ç›¸åŒ:")
    print("1. å°†è¾“å…¥è½¬æ¢ä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°")
    print("2. æ‰§è¡Œå¤æ‚çš„æµ®ç‚¹æ•°æ¯”è¾ƒ")
    print("3. æ¶‰åŠIEEE 754æ ¼å¼å’Œèˆå…¥æ¨¡å¼")
    print("4. åŒ…å«ä½æ“ä½œå’Œç¬¦å·ä½å¤„ç†")
    
    print("\næµ®ç‚¹æ•°çº¦æŸçš„å¤æ‚æ€§:")
    print("- æ¶‰åŠunconstrained_ret_log_2_64å˜é‡")
    print("- åŒ…å«fp.eq, fp.gt, fp.ltæ¯”è¾ƒ")
    print("- ä½¿ç”¨roundNearestTiesToEvenèˆå…¥æ¨¡å¼")
    print("- æ¶‰åŠä½æ“ä½œå’Œæ¡ä»¶é€‰æ‹©")
    
    print("\nä¸ºä»€ä¹ˆæµ®ç‚¹æ•°çº¦æŸç›¸åŒä½†ç»“æœä¸åŒ:")
    print("1. æµ®ç‚¹æ•°è¿ç®—çš„ç²¾åº¦å·®å¼‚")
    print("2. èˆå…¥æ¨¡å¼çš„å½±å“")
    print("3. ä½æ“ä½œçš„ç»“æœä¸åŒ")
    print("4. ç¬¦å·ä½å¤„ç†çš„å·®å¼‚")

def analyze_program_branches():
    """åˆ†æç¨‹åºåˆ†æ”¯"""
    
    print("\nğŸŒ³ ç¨‹åºåˆ†æ”¯åˆ†æ:")
    print("=" * 60)
    
    print("ç¨‹åºæ‰§è¡Œæµç¨‹:")
    print("1. è¯»å–è¾“å…¥ x")
    print("2. æ£€æŸ¥ x > 0")
    print("3. æ£€æŸ¥ x <= 2147483648")
    print("4. æ‰§è¡Œæµ®ç‚¹æ•°è¿ç®— (logå‡½æ•°)")
    print("5. æ‰§è¡Œå¤æ‚çš„æ•´æ•°è¿ç®—")
    print("6. æ ¹æ® ?x15032 çš„ç¬¦å·é€‰æ‹©åˆ†æ”¯:")
    print("   - å¦‚æœ ?x15032 < 0:  è¿”å› -995540907")
    print("   - å¦‚æœ ?x15032 >= 0: è¿”å› 1390040")
    
    print("\nåˆ†æ”¯é€‰æ‹©çš„å…³é”®:")
    print("- ?x15032 æ˜¯å¤æ‚è®¡ç®—çš„æœ€ç»ˆç»“æœ")
    print("- å…¶ç¬¦å·å†³å®šäº†ç¨‹åºçš„åˆ†æ”¯")
    print("- ä¸¤ä¸ªè·¯å¾„çš„å”¯ä¸€å·®å¼‚å°±æ˜¯è¿™ä¸ªç¬¦å·æ£€æŸ¥")
    print("- æµ®ç‚¹æ•°è¿ç®—çš„ç²¾åº¦å½±å“æœ€ç»ˆç»“æœ")

def analyze_output_values():
    """åˆ†æè¾“å‡ºå€¼"""
    
    print("\nğŸ“¤ è¾“å‡ºå€¼åˆ†æ:")
    print("=" * 60)
    
    print("è·¯å¾„3è¾“å‡º: -995540907")
    print("- åå…­è¿›åˆ¶: 0xC4A1B8B5")
    print("- äºŒè¿›åˆ¶: 11000100101000011011100010110101")
    print("- è¿™æ˜¯ä¸€ä¸ª32ä½æœ‰ç¬¦å·æ•´æ•°")
    print("- å¯èƒ½è¡¨ç¤ºæŸç§æ•°å­¦è®¡ç®—ç»“æœ")
    
    print("\nè·¯å¾„4è¾“å‡º: 1390040")
    print("- åå…­è¿›åˆ¶: 0x1538F8")
    print("- äºŒè¿›åˆ¶: 000101010011100011111000")
    print("- è¿™æ˜¯ä¸€ä¸ª32ä½æœ‰ç¬¦å·æ•´æ•°")
    print("- å¯èƒ½è¡¨ç¤ºå¦ä¸€ç§æ•°å­¦è®¡ç®—ç»“æœ")
    
    print("\nè¾“å‡ºå·®å¼‚çš„åŸå› :")
    print("1. ä¸åŒçš„è®¡ç®—åˆ†æ”¯")
    print("2. ä¸åŒçš„æ•°å­¦å‡½æ•°å®ç°")
    print("3. æµ®ç‚¹æ•°è¿ç®—ç²¾åº¦çš„å½±å“")
    print("4. ä½æ“ä½œç»“æœçš„å·®å¼‚")

def main():
    """ä¸»å‡½æ•°"""
    extract_constraint_details()
    analyze_calculation_process()
    analyze_floating_point_constraints()
    analyze_program_branches()
    analyze_output_values()
    
    print("\nğŸ¯ æœ€ç»ˆç»“è®º:")
    print("=" * 60)
    print("è·¯å¾„3å’Œè·¯å¾„4è¾“å‡ºä¸åŒçš„æ ¹æœ¬åŸå› :")
    print("1. æ¡ä»¶åˆ†æ”¯å·®å¼‚: ?x15032 < 0 vs >= 0")
    print("2. å¤æ‚è®¡ç®—è¿‡ç¨‹: æ¶‰åŠå¤šæ­¥æ•´æ•°è¿ç®—å’Œæµ®ç‚¹æ•°è¿ç®—")
    print("3. æµ®ç‚¹æ•°ç²¾åº¦: ç›¸åŒè¾“å…¥äº§ç”Ÿä¸åŒçš„ä¸­é—´ç»“æœ")
    print("4. ä½æ“ä½œå·®å¼‚: ç®—æœ¯è¿ç®—çš„ä½çº§å·®å¼‚")
    print("5. ç¨‹åºé€»è¾‘: ä¸åŒçš„åˆ†æ”¯å¯¼è‡´å®Œå…¨ä¸åŒçš„è¾“å‡º")
    
    print("\næŠ€æœ¯ç»†èŠ‚:")
    print("- ä¸¤ä¸ªè·¯å¾„çš„çº¦æŸå‡ ä¹å®Œå…¨ç›¸åŒ")
    print("- å”¯ä¸€çš„å·®å¼‚æ˜¯æœ€åä¸€ä¸ªæ¯”è¾ƒæ“ä½œ")
    print("- æµ®ç‚¹æ•°è¿ç®—çš„å¤æ‚æ€§å¯¼è‡´ä¸­é—´ç»“æœä¸åŒ")
    print("- ç¨‹åºè¾“å‡ºä¾èµ–äºè¿™äº›ä¸­é—´è®¡ç®—ç»“æœ")
    print("- ç¬¦å·æ‰§è¡Œæ— æ³•å®Œå…¨æ¨¡æ‹Ÿæµ®ç‚¹æ•°è¿ç®—çš„ç²¾åº¦å·®å¼‚")

if __name__ == "__main__":
    main()
